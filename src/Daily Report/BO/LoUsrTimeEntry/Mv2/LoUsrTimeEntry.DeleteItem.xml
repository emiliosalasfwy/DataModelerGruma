<BusinessLogic methodName="deleteItem" businessObjectClass="LoUsrTimeEntry" businessObjectType="listobject" asynchronous="true" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="pKey" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var promise = when.resolve();
var liUsrTimeEntry = me.getItemByPKey(pKey);

if(Utils.isDefined(liUsrTimeEntry)){
  liUsrTimeEntry.delete();
  me.setFilter("objectStatus", STATE.DIRTY | STATE.DELETED, "NCB");
  me.saveImmediately().then(
    function(){
      promise = when.resolve(pKey);
    });
}]]>
</Code>
  <Return name="pKey" value="promise" />
</BusinessLogic>