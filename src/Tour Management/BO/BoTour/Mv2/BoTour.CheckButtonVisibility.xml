<BusinessLogic methodName="checkButtonVisibility" businessObjectClass="BoTour" businessObjectType="businessobject" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="mode" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var visible = false;
var navigationMode = "noMode";

if (Utils.isDefined(Framework.getProcessContext().navigationMode)) {
  navigationMode = Framework.getProcessContext().navigationMode;
}

switch (mode) {

  case "release":
    if((navigationMode != "EndOfDay" || navigationMode === "Overview") && me.getReleaseButton()) {
      visible = true; 
    } 
    break;

  case "complete":
    if ((navigationMode != "StartOfDay" || navigationMode === "Overview") && me.getCompleteButton()) {
      visible = true;
    }
    break;

  case "reviewReleaseInformation":
    if ((navigationMode != "EndOfDay" || navigationMode === "Overview") && me.getReleaseInfoButton()) {
      if (me.getTmgStatus() === "Running") {
        if(me.getSysReleaseProcessStepsExists() == "1") {
          visible = true;
        }
      }
    }
    break;

  case "reviewCompleteInformation":
    if ((navigationMode != "StartOfDay" || navigationMode === "Overview") && me.getCompleteInfoButton()) {
      visible = true;
    }
    break;
}]]>
</Code>
  <Return name="visible" value="visible" />
</BusinessLogic>