<BusinessLogic methodName="getInitialDocPKeyByDocType" businessObjectClass="LoTruckLoadOverview" businessObjectType="listobject" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="documentType" type="String" />
    <MethodInput name="sdoMetaPKey" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var documentPKey = " ";
var items = me.getItemObjects();

if(items.length > 0){
  for(var i=0; i<items.length; i++){
    if (!Utils.isEmptyString(documentType) && items[i].getDocumentType() === documentType && items[i].getPhase() === "Initial"){
    documentPKey = items[i].getPKey();
    break;
   }
  else if (!Utils.isEmptyString(sdoMetaPKey) && items[i].getSdoMetaPKey() === sdoMetaPKey && items[i].getPhase() === "Initial"){
    documentPKey = items[i].getPKey();
    break;
   }
  }
}]]>
</Code>
  <Return name="documentPKey" value="documentPKey" />
</BusinessLogic>