<BusinessLogic methodName="esStoreParentSignatures" businessObjectClass="BoOrder" businessObjectType="businessobject" asynchronous="true" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters />
<Code language="JavaScript">
<![CDATA[var promise;

//we have to store the signatures of the main document in an own transaction so that they can be copied
Facade.startTransaction();
if (Utils.isDefined(me.getLoSysSignatureBlob())){
  promise = me.getLoSysSignatureBlob().saveAsync()
    .then(
    function(){
      return Facade.commitTransaction();
    });
}
else{
  promise = when.resolve();
}]]>
</Code>
  <Return name="result" value="promise" />
</BusinessLogic>