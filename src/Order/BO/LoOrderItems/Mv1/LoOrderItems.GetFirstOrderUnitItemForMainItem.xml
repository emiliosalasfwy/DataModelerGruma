<BusinessLogic methodName="getFirstOrderUnitItemForMainItem" businessObjectClass="LoOrderItems" businessObjectType="listobject" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="mainItem" type="Object" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var orderUnitItem = mainItem.getIsOrderUnit() == "1" ? mainItem : undefined;

if(!Utils.isDefined(orderUnitItem)){
  var items = me.getItemsByParamArray([{
    "refPKey" : mainItem.getRefPKey(),
    "isOrderUnit": "1",
    "sdoParentItemPKey": mainItem.getSdoParentItemPKey()
  }]);

  if (items.length > 0){
    orderUnitItem = items[0];
  }
}]]>
</Code>
  <Return name="orderUnitItem" value="orderUnitItem" />
</BusinessLogic>