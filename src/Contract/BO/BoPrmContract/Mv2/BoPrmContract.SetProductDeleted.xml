<BusinessLogic methodName="setProductDeleted" businessObjectClass="BoPrmContract" businessObjectType="" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="pKey" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var loProduct = me.getLoPrmCttProducts();
var liProduct = loProduct.getItemByPKey(pKey);

if(Utils.isDefined(liProduct)) {
  me.getLuPrmCttTacticProductCount().setProductCount(me.getLuPrmCttTacticProductCount().getProductCount() - 1);
  liProduct.delete();
  loProduct.setFilter("objectStatus", STATE.DIRTY | STATE.DELETED, "NCB");
}]]>
</Code>
  <Return name="" value="" />
</BusinessLogic>