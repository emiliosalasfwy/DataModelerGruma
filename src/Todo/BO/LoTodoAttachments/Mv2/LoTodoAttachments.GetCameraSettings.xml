<BusinessLogic methodName="getCameraSettings" businessObjectClass="LoTodoAttachments" businessObjectType="" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="settingsType" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var cameraSettings = {};

if (settingsType === "picture") {

  //validation code in the toggle will be like "320-240-80" 
  var user = ApplicationContext.get('user');
  var arrUserPictureQuality = user.getBoUserSettings().getPictureQualityValues().split("-");
  cameraSettings.targetWidth = parseInt(arrUserPictureQuality[0], 10);
  cameraSettings.targetHeight = parseInt(arrUserPictureQuality[1], 10);
  cameraSettings.quality = parseInt(arrUserPictureQuality[2], 10);
  cameraSettings.encodingType = Utils.isSfBackend() ? 'image/jpeg' : 'jpeg';

} else if (settingsType === "video") {
  cameraSettings.quality = 40;
  cameraSettings.encodingType = "mp4";
}]]>
</Code>
  <Return name="cameraSettings" value="cameraSettings" />
</BusinessLogic>