<BusinessLogic methodName="startPerformanceMeasure" businessObjectClass="BoPerformanceHelper" businessObjectType="businessobject" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="measurementPoint" type="String" />
    <MethodInput name="checkForParent" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var currentArray = this.getPerfDict();
var measureIndex = -1;

if(!Utils.isDefined(checkForParent))
{
  checkForParent = "0";
}

if(!(checkForParent == "1" && currentArray.length === 0))
{
  measureIndex = this.getCounter();
  this.setCounter(measureIndex+1);


  var startTime = Utils.createDateNow();
  var timeString = startTime.getHours() + ":" + startTime.getMinutes() + ":" + startTime.getSeconds() + ":" + startTime.getMilliseconds();
  var perfObj =
      {
        Name: measurementPoint,
        Time: startTime.getTime(),
        Index: measureIndex
      };

  currentArray.push(perfObj);
  this.setPerfDict(currentArray);

  var delim = "*** ";
  var consoleString = "###";

  consoleString += delim;

  consoleString += "Begin: ";
  consoleString += measureIndex;
  consoleString += " ";
  consoleString += measurementPoint;
  consoleString += " [ ";
  consoleString += timeString;
  consoleString += " ] ";

  consoleString += delim;

  consoleString += "###";

  console.log(consoleString);
}]]>
</Code>
  <Return name="measureIndex" value="measureIndex" />
</BusinessLogic>