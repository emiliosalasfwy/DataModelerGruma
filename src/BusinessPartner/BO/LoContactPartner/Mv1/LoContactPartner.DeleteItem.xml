<BusinessLogic methodName="deleteItem" businessObjectClass="LoContactPartner" businessObjectType="" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="pKey" type="DomPKey" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var contactPartnerPKey;
var liContactPartner = me.getItemByPKey(pKey);

if (Utils.isDefined(liContactPartner)){
  // The underlying contactPartner won't be deleted!
  // The delete statement of the DataSource will delete the BpaEmploysRel record
  liContactPartner.delete();
  contactPartnerPKey = liContactPartner.getBpaContactPartnerPKey();
}

me.setFilter("objectStatus", STATE.DIRTY | STATE.DELETED, "NCB");]]>
</Code>
  <Return name="contactPartnerPKey" value="contactPartnerPKey" />
</BusinessLogic>