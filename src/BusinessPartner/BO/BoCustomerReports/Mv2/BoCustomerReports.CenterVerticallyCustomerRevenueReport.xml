<BusinessLogic methodName="centerVerticallyCustomerRevenueReport" businessObjectClass="BoCustomerReports" businessObjectType="businessobject" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="containerName" type="String" />
  </Parameters>
  <Code language="JavaScript"><![CDATA[if(!Utils.isDefined(this.getChartHelper()))
{
  return;
}

var d3Container = this.getChartHelper().getUIContainer(containerName);

  var colorContDiv = d3Container.selectAll('#colorContainer');
  var legendDiv = d3Container.selectAll('#legendDiv');
  var titleDiv = d3Container.selectAll('#titleDiv');
  var mainDiv = d3Container.selectAll("#chart_" + containerName);

  if (Utils.isDefined(colorContDiv) && Utils.isDefined(legendDiv) && Utils.isDefined(titleDiv) && Utils.isDefined(mainDiv)) {
    if (Utils.isDefined(colorContDiv.node()) && Utils.isDefined(legendDiv.node()) && Utils.isDefined(titleDiv.node()) && Utils.isDefined(mainDiv.node())) {
      
      var completeHeight = colorContDiv.node().getBoundingClientRect().height;
      var completeWidth = colorContDiv.node().getBoundingClientRect().width;
      var titleHeight = titleDiv.node().getBoundingClientRect().height;
      var mainHeight = mainDiv.node().getBoundingClientRect().height;
      var legendWidth = legendDiv.node().getBoundingClientRect().width;
      
	  // If the value of top or left is zero or less, then set a default value
	  var topValue = (completeHeight + titleHeight - mainHeight)/2 - 50;
      var legendLeft = (completeWidth - legendWidth)/2;
      var lagendTop = (completeHeight + titleHeight + mainHeight)/2 - 50;
      if(topValue <= 0){
          topValue = 100;
      }
      if(legendLeft <= 0){
          legendLeft = 20;
      }
      if(lagendTop <= 0){
          lagendTop = 100 + mainHeight;
      }
      mainDiv.style("position", "absolute").style("left", "0px").style("top", (topValue + "px"));
      legendDiv.style("position", "absolute").style("left", (legendLeft + "px")).style("top", (lagendTop + "px"));
    }
  }]]></Code>
  <Return name="" value="" />
</BusinessLogic>