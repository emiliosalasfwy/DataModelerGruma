<BusinessLogic methodName="checkIfPictureTaken" businessObjectClass="BoCall" businessObjectType="businessobject" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="jDTPKey" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var pictureTaken = false;
var pictures = me.getLoCallAttachments().getItemsByParamArray([{"clbMainPKey" : jDTPKey},
                                                               {"objectStatus" : me.self.STATE_DELETED + me.self.STATE_NEW, "op" : "NE"},
                                                               {"objectStatus" : me.self.STATE_DELETED + me.self.STATE_UNMODIFIED, "op" : "NE"}]);

if(pictures.length > 0){
  pictureTaken = true;
}]]>
</Code>
  <Return name="pictureTaken" value="pictureTaken" />
</BusinessLogic>