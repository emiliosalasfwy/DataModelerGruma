<BusinessLogic methodName="onPropertyChanged" businessObjectClass="BoCall" businessObjectType="" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="handlerParams" type="Object" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var jobManager = me.getBoJobManager();

if ((handlerParams.oldValue != handlerParams.newValue) && (Utils.isDefined(jobManager))) {
  switch (handlerParams.simpleProperty) {
    case "clbStatus":
      jobManager.setClbStatus(handlerParams.newValue);
      if(handlerParams.newValue.toLowerCase() === "completed"){
        me.setCloseTimeEntry("1");
      }
      break;
    case "originalClbStatus":
      jobManager.setOriginalClbStatus(handlerParams.newValue);
      break;
    case "dateFrom":
      jobManager.setReferenceDate(handlerParams.newValue);
      jobManager.setCallDateChangedAfterLoad("1");
      break;
    case "timeFrom":
      jobManager.setTimeFrom(handlerParams.newValue);
      break;
  }
}]]>
</Code>
  <Return name="" value="" />
</BusinessLogic>