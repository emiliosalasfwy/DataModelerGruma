<BusinessLogic methodName="addItem" businessObjectClass="LoAtmAttachment" businessObjectType="" asynchronous="false" accessibility="PUBLIC" final="false" module="CORE" simpleEditorOnly="">
  <Parameters>
    <MethodInput name="attachmentPKey" type="String" />
    <MethodInput name="referencePKey" type="String" />
    <MethodInput name="objectType" type="String" />
    <MethodInput name="fileName" type="String" />
    <MethodInput name="fileType" type="String" />
    <MethodInput name="attachmentText" type="String" />
  </Parameters>
<Code language="JavaScript">
<![CDATA[var atmPkey = PKey.next();
var liNewAtmAttachment = {
  pKey: atmPkey,
  attachmentPKey: attachmentPKey,
  referencePKey: referencePKey,
  objectType: objectType,
  creationDate: Utils.createAnsiDateTimeToday(),
  fileName: fileName,
  fileType: fileType,
  textPKey: PKey.next(),
  text: attachmentText,
  objectStatus: STATE.NEW | STATE.DIRTY,
};
this.addListItems([liNewAtmAttachment]);]]>
</Code>
  <Return name="newPKey" value="liNewAtmAttachment.pKey" />
</BusinessLogic>